<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="521px" preserveAspectRatio="none" style="width:818px;height:521px;" version="1.1" viewBox="0 0 818 521" width="818px" zoomAndPan="magnify"><defs><filter height="300%" id="f557ayr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="489" x="178" y="17.4023">Software architecture for QSS integration with JModelica</text><!--cluster Optimica--><polygon fill="#FFFFFF" filter="url(#f557ayr)" points="166,45.1992,238,45.1992,245,67.6875,368,67.6875,368,270.1992,166,270.1992,166,45.1992" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="166" x2="245" y1="67.6875" y2="67.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="66" x="170" y="60.7344">Optimica</text><!--cluster PyFMI--><polygon fill="#FFFFFF" filter="url(#f557ayr)" points="621,173.1992,670,173.1992,677,195.6875,811,195.6875,811,400.1992,621,400.1992,621,173.1992" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="621" x2="677" y1="195.6875" y2="195.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="625" y="188.7344">PyFMI</text><!--entity qss_lib--><rect fill="#FEFECE" filter="url(#f557ayr)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="209.5" y="80.1992"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="304.5" y="85.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="302.5" y="87.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="302.5" y="91.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="224.5" y="113.7344">QSS library</text><!--entity JModelica compiler--><rect fill="#FEFECE" filter="url(#f557ayr)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="182.5" y="208.1992"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="331.5" y="213.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="329.5" y="215.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="329.5" y="219.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="197.5" y="241.7344">JModelica compiler</text><!--entity Master algorithm--><rect fill="#FEFECE" filter="url(#f557ayr)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="637.5" y="208.1992"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="774.5" y="213.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="772.5" y="215.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="772.5" y="219.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="652.5" y="241.7344">Master algorithm</text><!--entity Sundials--><rect fill="#FEFECE" filter="url(#f557ayr)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="697" y="338.1992"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="775" y="343.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="773" y="345.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="773" y="349.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="712" y="371.7344">Sundials</text><!--entity FMU_QSS--><rect fill="#FEFECE" filter="url(#f557ayr)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="276" y="338.1992"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="354" y="343.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="352" y="345.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="352" y="349.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="291" y="371.7344">FMU-ME</text><!--entity Modelica model--><rect fill="#FEFECE" filter="url(#f557ayr)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="384" y="80.1992"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="512" y="85.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="510" y="87.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="510" y="91.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="399" y="113.7344">Modelica model</text><!--entity FMU-ME--><rect fill="#FEFECE" filter="url(#f557ayr)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="697" y="466.1992"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="775" y="471.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="773" y="473.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="773" y="477.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="712" y="499.7344">FMU-ME</text><!--entity FMU-CS--><rect fill="#FEFECE" filter="url(#f557ayr)" height="46.4883" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="509" y="338.1992"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="585" y="343.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="583" y="345.1992"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="583" y="349.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="524" y="371.7344">FMU-CS</text><polygon fill="#FBFB77" filter="url(#f557ayr)" points="6,333.1992,6,389.1309,206,389.1309,206,343.1992,196,333.1992,6,333.1992" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="6,333.1992,6,389.1309,206,389.1309,206,365.1992,275.764,361.1992,206,357.1992,206,343.1992,196,333.1992,6,333.1992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="196" x2="196" y1="333.1992" y2="343.1992"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="206" x2="196" y1="343.1992" y2="343.1992"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="12" y="350.7676">FMU-ME 2.0 API, sends</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="12" y="366.0781">next event time, but</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="12" y="381.3887">exposes no state derivatives</text><path d="M267,126.4352 C267,147.8472 267,180.2692 267,203.1632 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="267,208.1852,271,199.1852,267,203.1852,263,199.1852,267,208.1852" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M424.293,126.4352 C390.88,148.4772 339.782,182.1862 304.959,205.1582 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="300.37,208.1852,310.0851,206.5673,304.5434,205.4315,305.6791,199.8899,300.37,208.1852" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M272.295,254.5052 C276.073,268.7782 281.762,287.4952 289,303.1992 C293.801,313.6152 300.201,324.4092 306.273,333.7652 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="309.033,337.9562,307.4251,328.2395,306.2836,333.78,300.7431,332.6385,309.033,337.9562" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M637.264,246.3082 C591.814,255.4922 533.943,268.9732 484,286.1992 C444.632,299.7782 401.945,319.9702 370.722,335.8332 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="366.2,338.1412,376.0346,337.6123,370.6534,335.8681,372.3976,330.4868,366.2,338.1412" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="485" y="299.7676">inputs, time</text><path d="M632.076,242.8642 C521.765,257.0612 341.242,280.9912 336,286.1992 C322.64,299.4732 320.886,321.4512 321.876,338.0142 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="637.275,242.1952,627.8379,239.3772,632.3159,242.8337,628.8594,247.3117,637.275,242.1952" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="337" y="299.7676">next event time</text><path d="M739.127,254.2602 C747.02,263.3152 754.888,274.4332 759,286.1992 C764.896,303.0692 760.758,323.0752 755.638,338.0302 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M723.985,384.3862 C712.529,398.6792 702.039,417.9395 708,436.1992 C710.986,445.3471 716.259,454.2212 721.944,461.9718 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="725.133,466.1567,722.8602,456.5737,722.1027,462.1796,716.4968,461.4221,725.133,466.1567" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="709" y="432.7676">(x, t)</text><path d="M746,389.4732 C746,412.4336 746,444.8498 746,466.1853 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="746,384.4352,742,393.4352,746,389.4352,750,393.4352,746,384.4352" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="747" y="432.7676">dx/dt</text><path d="M637.497,249.9802 C616.482,258.0302 595.363,269.6112 580,286.1992 C568.255,298.8802 562.506,317.4712 559.693,332.8462 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="558.847,337.9232,564.271,329.7025,559.6683,332.9911,556.3797,328.3884,558.847,337.9232" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="581" y="299.7676">hRequested</text><path d="M698.59,258.5922 C688.247,272.9462 674.204,290.3412 659,303.1992 C642.891,316.8222 623.036,328.7832 605.138,338.1852 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="701.678,254.2442,693.2066,259.2676,698.7837,258.3214,699.73,263.8985,701.678,254.2442" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="677" y="299.7676">(x, hMax)</text></g></svg>