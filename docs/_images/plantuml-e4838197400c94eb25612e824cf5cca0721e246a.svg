<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="526px" preserveAspectRatio="none" style="width:830px;height:526px;" version="1.1" viewBox="0 0 830 526" width="830px" zoomAndPan="magnify"><defs><filter height="300%" id="f7luu6g" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="504" x="176.5" y="16.708">Software architecture for QSS integration with JModelica</text><!--cluster Optimica--><polygon fill="#FFFFFF" filter="url(#f7luu6g)" points="171,44.9531,245,44.9531,252,67.25,369,67.25,369,272.9531,171,272.9531,171,44.9531" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="171" x2="252" y1="67.25" y2="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="68" x="175" y="59.9482">Optimica</text><!--cluster PyFMI--><polygon fill="#FFFFFF" filter="url(#f7luu6g)" points="635,174.9531,686,174.9531,693,197.25,823,197.25,823,403.9531,635,403.9531,635,174.9531" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="635" x2="693" y1="197.25" y2="197.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="45" x="639" y="189.9482">PyFMI</text><!--entity qss_lib--><rect fill="#FEFECE" filter="url(#f7luu6g)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="213.75" y="80.9531"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="306.75" y="85.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="304.75" y="87.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="304.75" y="91.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="228.75" y="113.9482">QSS library</text><!--entity JModelica compiler--><rect fill="#FEFECE" filter="url(#f7luu6g)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="186.75" y="210.9531"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="333.75" y="215.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="331.75" y="217.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="331.75" y="221.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="201.75" y="243.9482">JModelica compiler</text><!--entity Master algorithm--><rect fill="#FEFECE" filter="url(#f7luu6g)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="651.75" y="210.9531"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="786.75" y="215.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="784.75" y="217.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="784.75" y="221.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="666.75" y="243.9482">Master algorithm</text><!--entity Sundials--><rect fill="#FEFECE" filter="url(#f7luu6g)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="709.5" y="341.9531"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="787.5" y="346.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="785.5" y="348.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="785.5" y="352.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="724.5" y="374.9482">Sundials</text><!--entity FMU_QSS--><rect fill="#FEFECE" filter="url(#f7luu6g)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="280" y="341.9531"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="356" y="346.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="354" y="348.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="354" y="352.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="295" y="374.9482">FMU-ME</text><!--entity Modelica model--><rect fill="#FEFECE" filter="url(#f7luu6g)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="385" y="80.9531"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="513" y="85.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="511" y="87.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="511" y="91.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="400" y="113.9482">Modelica model</text><!--entity FMU-ME--><rect fill="#FEFECE" filter="url(#f7luu6g)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="710" y="470.9531"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="786" y="475.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="784" y="477.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="784" y="481.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="725" y="503.9482">FMU-ME</text><!--entity FMU-CS--><rect fill="#FEFECE" filter="url(#f7luu6g)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="525" y="341.9531"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="599" y="346.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="597" y="348.9531"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="597" y="352.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="540" y="374.9482">FMU-CS</text><polygon fill="#FBFB77" filter="url(#f7luu6g)" points="6.5,337.4531,6.5,392.8516,210.5,392.8516,210.5,347.4531,200.5,337.4531,6.5,337.4531" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="6.5,337.4531,6.5,392.8516,210.5,392.8516,210.5,368.9531,279.996,364.9531,210.5,360.9531,210.5,347.4531,200.5,337.4531,6.5,337.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="200.5" x2="200.5" y1="337.4531" y2="347.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="210.5" x2="200.5" y1="347.4531" y2="347.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="12.5" y="354.52">FMU-ME 2.0 API, sends</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="12.5" y="369.6528">next event time, but</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="12.5" y="384.7856">exposes no state derivatives</text><path d="M270,126.9571 C270,148.7541 270,182.1851 270,205.6611 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="270,210.8081,274,201.8081,270,205.8081,266,201.8081,270,210.8081" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M426.51,126.9571 C393.244,149.4861 341.623,184.4461 306.853,207.9941 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="302.699,210.8081,312.3937,209.0725,306.8387,208.004,307.9072,202.449,302.699,210.8081" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M275.169,257.2531 C278.93,271.7681 284.645,290.9141 292,306.9531 C296.78,317.3791 303.176,328.1741 309.25,337.5301 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="312.011,341.7201,310.3992,332.004,309.26,337.545,303.719,336.4057,312.011,341.7201" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M651.507,248.2981 C604.417,257.4461 543.46,271.1501 491,288.9531 C450.373,302.7411 406.282,323.4011 374.213,339.5481 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="369.571,341.8961,379.4075,341.4024,374.0325,339.6389,375.796,334.264,369.571,341.8961" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="492" y="302.02">inputs, time</text><path d="M646.315,244.9491 C532.087,258.9441 339.344,283.3001 334,288.9531 C320.987,302.7161 320.791,324.9491 323.067,341.6421 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="651.357,244.3321,641.9379,241.4546,646.394,244.9393,642.9093,249.3954,651.357,244.3321" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="335" y="302.02">next event time</text><path d="M752.889,257.1871 C760.886,266.1841 768.824,277.2181 773,288.9531 C779.143,306.2171 774.304,326.6631 768.538,341.8431 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M735.633,388.1071 C723.758,402.6221 712.781,422.2964 719,440.9531 C722.041,450.0763 727.379,458.8878 733.148,466.5842 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="736.385,470.7401,734.0095,461.182,733.3122,466.7958,727.6985,466.0985,736.385,470.7401" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="720" y="436.02">(x, t)</text><path d="M758,393.1461 C758,416.2671 758,449.06 758,470.6588 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="758,388.0751,754,397.0751,758,393.0751,762,397.0751,758,388.0751" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="759" y="436.02">dx/dt</text><path d="M651.415,249.5831 C628.026,257.5851 604.272,269.9301 588,288.9531 C576.803,302.0421 572.837,321.0571 571.653,336.6641 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="571.352,341.8131,575.8698,333.0616,571.6434,336.8216,567.8834,332.5953,571.352,341.8131" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="589" y="302.02">hRequested</text><path d="M711.203,261.6381 C700.653,276.1691 686.366,293.8111 671,306.9531 C655.325,320.3591 636.047,332.2801 618.681,341.7101 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="714.354,257.2371,705.8611,262.2242,711.4423,261.3018,712.3647,266.883,714.354,257.2371" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="691" y="302.02">(x, hMax)</text></g></svg>